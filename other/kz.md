# Yandex Music Widget for OBS

[![Біздің Discord-ға қосылыңыз](https://img.shields.io/discord/1227552882744754267?label=Discord&logo=discord&logoColor=white&style=for-the-badge)](https://discord.com/invite/pulsesync)
[![Boosty-де жазылыңыз](https://img.shields.io/badge/Boosty-Subscribe-orange?style=for-the-badge)](https://boosty.to/evt)

![aTYB7VGE7H](https://github.com/user-attachments/assets/2e5a33ed-5e43-41d0-82e8-19b96067b79b)

## Орнату және пайдалану жөніндегі нұсқаулық

Сәлем! Төменде виджетті қалай іске қосу керектігі туралы түсіндіріледі.  
Бұл кәдімгі HTML/JS жобасы, Node.js немесе басқа жинақтаушыларсыз — оны OBS-те «Browser Source» ретінде ашуға немесе кез келген локаль/қашық серверде орналастыруға болады.

## Жоба не істейді?

1. Біздің жария API-ға ([pulsesync.dev/api/v1/](https://ru-node-1.pulsesync.dev/api/v1/)) **қосылады**, қай композиция ойналып жатқанын білу үшін.  
2. **Қақпағын**, тректің атауын, орындаушысын, статусын (playing және т.б.) көрсететін карточканы шығарады.

## Жария API-ға қалай қол жеткізуге болады?

1. [Boosty.to/evt](https://boosty.to/evt) сайтына символикалық 30 рубль төлеу арқылы **жазылыңыз**.  
2. Төлемнен кейін сізге **хабарлама** келетін болады:
   ```text
   "Сәлеметсіз бе және жазылымыңыз үшін рахмет!
    Boosty баптауларынан Discord аккаунтыңызды қосыңыз:
    https://boosty.to/app/settings/external-apps
    
    Одан кейін серверге кіріңіз:
    https://discord.com/invite/pulsesync
    және бот сізге бета-тестер рөлін береді (15 минут ішінде).
    
    Егер рөл пайда болмаса, әкімшілерге хабарласыңыз.
    Егер сізде ескі нұсқасы болса, өтінеміз, репатч жасаңыз.
    Жақсы көңіл-күй тілейміз!"
   ```
3. Discord серверінде **бета-тестер рөлін алыңыз**.
4. Қосымшаға **тіркеліңіз**, кейін Discord ботында `/create-api-key` командасын (немесе ұмытсаңыз — `/get-api-key`) қолданыңыз.
5. **Токеніңізді көшіріп**, `api.js` файлындағы `API_KEY` айнымалысына қойыңыз.

## Файл құрылымы

```
├─ designs
│   └─ EvT (Pulsma)
│       ├─ color.js
│       ├─ default.png
│       ├─ index.html
│       ├─ main.js
│       ├─ style.css
│       └─ textAnimation.js
└─api.js
```

Мысал ретінде менің «EvT (Pulsma)» тақырыбының жүзеге асырылуын келтірейік.

- **`api.js`**  
  Мұнда `fetchTrackStatusFromApi()` функциясы және сіздің `API_KEY` орналасқан.  
- **`color.js`**  
  Canvas арқылы қақпақтың түсін анықтайтын және қажет болған жағдайда оны қоюлайтын код.  
- **`textAnimation.js`**  
  «Матрица» стиліндегі (немесе басқа кез келген) анимация, финалдық мәтінді бірте-бірте "басып шығарады".  
- **`index.html`**  
  Негізгі бет, мұнда барлық скрипттер мен стильдер қосылады.  
- **`style.css`**  
  Карточканың жалпы стилін осы жерге қоюға болады.  
- **`main.js`**  
  Жалпы анимация логикасы (slideOut/slideIn), DOM-пен жұмыс (қақпағы, мәтін), `api.js`-ті шақыру және т.б.  
- **`default.png`**  
  Қақпағына арналған «орынбасар» сурет.

## OBS-те (немесе кез келген жерде) іске қосу

1. **OBS** бағдарламасын ашып, **Browser Source** қосыңыз.  
2. `index.html` файлының жолын көрсетіңіз (мысалы, `file:///C:/Project/designs/EvT%20(Pulsma)/index.html`) немесе локаль/қашық серверді пайдаланыңыз.  
3. Өлшемін реттеңіз.  
4. Дайын! Карточка жаңарып, ағымдағы тректі анимациямен көрсетеді.

## Өз дизайныңыз бар ма?

Біз әртүрлі стильдерді **қоштамыз**!  
Егер сізде идеялар болса — өз нұсқаңызды жасап, осы репозиторийге **Pull Request** жіберіңіз, біз жаңа тақырыпты `designs/` папкасына қосамыз.  
Папканың мысал құрылымы:  
```
designs/
  EvT (Pulsma)/
    color.js
    default.png
    index.html
    main.js
    style.css
    textAnimation.js
```
Сіз өз папкаңызды қалағаныңызша атауға болады, мысалы:  
```
designs/
  MyChinazisDesign/
    color.js
    ...
```

## Байланыс

- Біздің [Discord серверіміз](https://discord.com/invite/pulsesync).  
- Жазылым үшін [Boosty](https://boosty.to/evt).  

Егер сұрақтарыңыз туындаса немесе бірдеңе жұмыс істемесе — Discord серверінен сұраңыз.

---
**Сау болыңыз!**

---